<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Login Admin | Titik Fiksi</title>

  <link rel="stylesheet" href="./admin.css" />

  <!-- Netlify Identity Widget -->
  <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>

  <style>
    .wrap{
      min-height: 100vh;
      display:grid;
      place-items:center;
      padding: 20px;
    }
    .box{
      width: min(520px, 92vw);
      padding: 18px;
      border-radius: 18px;
      background: rgba(255,255,255,0.75);
      border: 1px solid rgba(15,23,42,0.12);
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
      box-shadow: 0 12px 40px rgba(0,0,0,0.08);
    }
    .muted{ color:#64748b; font-size:13px; line-height:1.6; }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="box">
      <h2 style="margin-top:0;">üîê Login Admin</h2>
      <p class="muted">
        Halaman ini untuk login Netlify Identity.<br>
        Jika Anda baru pertama kali, pastikan sudah di-Invite dari Netlify.
      </p>

      <button class="nc-button nc-button-primary"
        style="padding:12px 14px; border-radius:14px; border:none; cursor:pointer; background:linear-gradient(135deg,#3b82f6,#8b5cf6); color:white; font-weight:700;"
        onclick="netlifyIdentity.open()">
        Buka Form Login
      </button>

      <div style="margin-top:14px;">
        <a href="./" style="color:#2563eb; text-decoration:none;">‚û°Ô∏è Masuk ke Admin CMS</a>
      </div>
    </div>
  </div>

  <script>
    if (window.netlifyIdentity) {
      window.netlifyIdentity.on("init", (user) => {
        console.log("Identity init:", user);
      });

      window.netlifyIdentity.on("login", () => {
        // setelah login, langsung pindah ke /admin/
        window.location.href = "/admin/";
      });
    }
  </script>
</body>
</html>
